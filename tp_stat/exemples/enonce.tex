%%\section{Exemples}

\subsection{Écrire dans un fichier}


Pour s'exercer à écrire des messages textuels dans un fichier, vous étudierez le fichier \texttt{write\_file.py}.

\begin{enumerate}

\item La ligne 21 permet d'ouvrir le fichier \texttt{quote\_file.dat} en écriture grâce
  à l'option \texttt{w} (\emph{write}).
  Complétez le programme des lignes nécessaires pour ajouter, à la fin du
  fichier \texttt{quote\_file.dat}, la traduction française de la citation.

\item   Écrivez   un  nouveau   programme   \texttt{write\_file\_2.py}
  permettant d'ouvrir  de nouveau le  fichier \texttt{quote\_file.dat}
  afin d'y ajouter une nouvelle citation. Pour cela, il faut savoir que l'option \texttt{a} (\emph{append}) permet
  de préciser qu'un fichier est ouvert en écriture ET que les nouvelles données seront écrites après celles déjà présentes. 

\end{enumerate}

\begin{figure}  
  \lstinputlisting{../exemples/write_file.py}
  \caption{Contenu du fichier \texttt{write\_file.py}}
  \label{stat_write_file}
\end{figure}

\subsection{Lire un fichier texte}


Pour  s'exercer à  lire des données à partir d'un  fichier dans un format textuel,
vous  étudierez le  programme \texttt{read\_file.py}.

\begin{enumerate}

\item Expliquez  les différences  entre les  méthodes \texttt{read()},
  \texttt{readlines()} et \texttt{readline()}.

\item  Comment peut-on lire  l'ensemble  du fichier  avec la  méthode
  \texttt{readline()} ?

\item  Que se  passe-t-il lorsque  l'on \textit{oublie}  de fermer  le
  fichier à la fin du programme ?

\item Testez le type auquel appartient la variable \texttt{lines}.
% Quels genres de tests t'attends-tu à ce que les étudiants fassent ?

\item Lors de l'affichage de  la variable \texttt{lines}, chaque ligne
  est encadrée par un caractère \texttt{'} (\emph{quote}) et les différentes
  lignes se trouvent
  séparées par des  virgules. L'ensemble est délimité  par des crochets
  \texttt{[]}.  Chaque  élément séparé d'un autre par une  virgule est accessible
  indépendamment.  Cet objet est de  type \texttt{list}, c'est un type
  de  variable \emph{container}  qui  peut  lui-même  contenir   plusieurs  variables.
  Commentez  les lignes  49 et  50 ; puis proposez  deux méthodes  pour
  accéder à l'ensemble des éléments de l'objet \texttt{lines}

\end{enumerate}


\begin{figure}  
  \lstinputlisting{../exemples/read_file.py}
  \caption{Contenu du fichier \texttt{read\_file.py}}
  \label{stat_read_file}
\end{figure}



\subsection{Manipulation des listes}
Cet exercice consiste à parcourir des objets de type \texttt{list}.

\begin{enumerate}
\item  Ouvrez   le  programme  \texttt{exo\_list.py}  et   faites  les
  modifications  nécessaires pour  afficher  les premier  et  dernier
  éléments de l'objet \texttt{my\_list\_of\_heroes}.  %%
\item  Créez deux  \texttt{list} afin  de séparer  les héros  dotés de
  pouvoirs de celui doté d'un compte en banque.  %%
\item  Utilisez  la liste  vide  \texttt{[]}  pour vider  la  variable
  \texttt{my\_list\_of\_heroes},
  puis  vérifiez que  cette liste
  est effectivement vide.  %%
\item Que fait la commande de la ligne 21 ?  %%
\item  Afin de  déterminer la  position  d'un élément  connu dans  une
  liste, utilisez la commande \texttt{index(valeur)}.  Retrouvez ainsi
  la position de \textit{Daredevil}.

\item En vous aidant  du programme \texttt{exo\_list.py}, expliquez la
  différence entre \texttt{del} et \texttt{remove}

\item Jusqu'à maintenant l'objet de type \texttt{list} utilisé compte quelques
  éléments. Dès lors que vous  devrez gérer un grand nombre d'éléments,
  il faudra  automatiser le parcours  de vos ensembles.   Décrivez les
  lignes 33 et 34 du programme.
\end{enumerate}
\lstinputlisting{exo_list.py}


\subsection{Les boucles  \texttt{for}}

L'objectif  de cet  exercice est  d'utiliser les  boucles basées sur
l'instruction \texttt{for} afin  de  parcourir  des  ensembles  de
valeurs  contenues  dans  des listes.



\begin{enumerate}
\item Vous  étudierez le programme \texttt{boucle\_for.py}.   Les mots
  clefs \texttt{for} et \texttt{in} séparent \texttt{heros}, qui prend
  successivement    les    différentes    valeurs    contenues    dans
  \texttt{my\_list\_of\_heroes}.  Détaillez la  différence entre la
  boucle commençant à la ligne 22 et la boucle commençant à ligne 35.

\item La boucle que vous avez  utilisée jusqu'à présent se base sur une
  liste déjà existante.  Toutefois,  il est utile d'effectuer $N$
  fois une  action. Pour cela, à  la place d'une liste  de $N$
  éléments, vous utiliserez  l'instruction \texttt{range(N)} pour créer
  une liste de $N$ entiers correspondant à la suite des indices des éléments
  de la liste.
  \begin{itemize}
  \item[$\ast$]  Créez un  nouveau  programme \texttt{boucle\_for\_2.py}  pour
    mettre en \oe{}uvre cette boucle.
  \item[$\ast$] Calculez la factoriellle de \texttt{N}\footnote{factorielle de
    $N$, notée $N!$~=~$1 \times 2 \times... \times N-1 \times N$ et $1! = 0! = 1$}.
  \end{itemize}

\lstinputlisting{boucle_for.py}

\item    Créez   un    nouveau   programme    que   vous    appellerez
  \texttt{boucle\_for\_3.py}.
  \begin{itemize}
  \item[$\ast$]  Demandez   à  un  utilisateur  d'entrer   un  entier  positif
    (\texttt{N} dans le programme).
  \item[$\ast$]  Proposez à  l'utilisateur de lui  produire des  nombres pairs  ou
    impairs, selon son choix.
  \item[$\ast$] Pour chaque valeur \texttt{x} de l'ensemble des entiers de 0
    à \texttt{N} calculez soit la  valeur $2\times x+1$ pour produire
    des nombres impairs, soit $2\times x$ pour des nombres pairs.
  \item[$\ast$]    Sauvegardez     votre    résultat    dans     un    fichier
    en mode textuel (\texttt{ASCII}\footnote{American  Standard  Code  for  Information
      Interchange}).
% Un fichier ascii ou un fichier texte de base ?
  \end{itemize}

\end{enumerate}




\subsection{Les boucles  \texttt{while}}

L'objectif de  cet exercice  est d'utiliser une  boucle basée sur l'instruction
\texttt{while}
afin  de  répéter  une  action tant  qu'une  condition  est  vérifiée.
Inspirez-vous de  l'exemple \texttt{boucle\_while.py}  pour créer  un
programme.

\begin{enumerate}
\item Demandez à  un utilisateur de trouver un  nombre mystère compris
  entre 0 et 1000  tant qu'il ne trouve pas la  valeur exacte qui sera
  définie dans le programme.

\item  Après  chaque essai,  comparez  le  nombre proposé  au  nombre
  mystère et informez l'utilisateur s'il est plus grand ou plus petit.

\item Lorsque la valeur mystère est trouvée, informez l'utilisateur et
  stoppez le programme.

\end{enumerate}
%%
\lstinputlisting{boucle_while.py}


\subsection{Vos premiers graphiques avec matplotlib}

Vous  trouverez   dans  le   programme  \texttt{plot.py}   un  exemple
d'utilisation du  module \texttt{matplotlib}. À partir  de cet exemple,
créez  un programme  pour  tracer  la fonction  $f(x)=\sin  x$ avec  x
compris entre 0 et 7.

Pour vous exercer, modifiez les paramètres suivants :

\begin{enumerate}
\item les titres et les échelles des axes ;

\item la forme des  symboles représentant les points à tracer ;

\item reliez les points en utilisant une option de \texttt{plot()} ;

\item ajoutez une seconde courbe avant l'affichage représentant $f(x)=cos(x)$ et changez la couleur
  de la seconde courbe.


\end{enumerate}
\lstinputlisting{plot.py}

\subsection{Pour aller plus loin avec matplotlib {\sc [Facultatif]}}

Vous aurez à écrire un programme afin  de tracer la carte de France et
ses principaux cours d'eau.  Vous allez :

\begin{enumerate}
\item Lire les fichiers \texttt{map.dat} et \texttt{river.dat}. Chaque
  colonne  de  ces fichiers  permet  de  remplir  des objets  de  type
  \texttt{list} que  nous nommerons  \texttt{map\_x}, \texttt{map\_y},
  \texttt{river\_x} et \texttt{river\_y}.
\item Choisir la forme des symboles représentant les points à tracer.

\item Sur un même graphique,  tracer les contours $map\_y = f(map\_x)$
  et $river\_y = f(river\_x)$.

\item Utiliser les options adéquates  pour tracer en noir les contours
  de la carte et en bleu les cours d'eau.


\end{enumerate}




\vfill
